<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="slots-generator-styles-test.css">
    <title>Slots Generator</title>
</head>
<body>
    <div class="container">
      <div class="left-column">
        <h1>Slots Generator</h1>

        <h2>Select Items:</h2>
            <div class="checkbox-pair">
                <div class="item-box" id="list1-box">Hacksaw</div>
                  <div class="item-box" id="list2-box">Pragmatic</div>
                
            </div>
            <div class="checkbox-pair">
                <div class="item-box" id="list3-box">Play n' Go</div>
               
                    <div class="item-box" id="list4-box">Nolimit City</div>
            
            </div>
            <div class="checkbox-pair">
                <div class="item-box" id="list5-box">Thunderkick</div>
              <div class="item-box" id="list6-box">Relax Gaming</div>
           
            </div>
            <div class="checkbox-pair">
                <div class="item-box" id="list7-box">Quickspin</div>
                 <div class="item-box" id="list8-box">Push Gaming</div>
            </div>
        

        <h2>Generate Random Items:</h2>
        <label for="num-items">Number of Items:</label>
        <input type="number" id="num-items" min="1" value="1">
        <button id="generate-button">Generate</button>

        <div class="lists-container">
            <div class="items-list">
                <h2>Generated Items:</h2>
                <ul id="generated-list"></ul>
            </div>
        </div>
    </div>
        <div class="right-column">
              <div class="items-list">
                <h2>Bonus List:</h2>
                <ul id="bonus-list">
                    <!-- Bonus items (if needed) can be added here -->
                </ul>
            </div>
            </div>
    </div>

    <button onclick="goBack()">Go Back</button>

    <script>


        const itemBoxes = document.querySelectorAll('.item-box');
          itemBoxes.forEach((box) => {
          box.addEventListener('click', () => {
          box.classList.toggle('selected');
           });
        });
        
        function goBack() {
            window.history.back();
        }

        

        const bonusItems = [];
        const selectedLists = [];
         window.addEventListener('load', function () {
            const storedBonusItems = localStorage.getItem('bonusItems');
            if (storedBonusItems) {
                bonusItems.push(...JSON.parse(storedBonusItems));
                updateBonusList();
            }
        });

        document.getElementById('generate-button').addEventListener('click', function () {
    const selectedItems = [];
    itemBoxes.forEach((box) => {
        if (box.classList.contains('selected')) {
            selectedItems.push(box.textContent);
        }
    });

    const generatedList = document.getElementById('generated-list');
    generatedList.innerHTML = ''; // Clear previous items

    const numItems = parseInt(document.getElementById('num-items').value);

    for (let i = 0; i < numItems; i++) {
        if (selectedItems.length > 0) {
            const randomIndex = Math.floor(Math.random() * selectedItems.length);
            const selectedItem = selectedItems[randomIndex];

            const listItem = document.createElement('li');
            listItem.textContent = selectedItem;
            generatedList.appendChild(listItem);
        }
    }
});

        function updateBonusList() {
            const bonusList = document.getElementById('bonus-list');
            bonusList.innerHTML = '';

            for (let i = 0; i < bonusItems.length; i++) {
                const bonusItem = bonusItems[i];
                const bonusListItem = document.createElement('li');
                const bonusLink = document.createElement('a');
                bonusLink.href = bonusItem.url; // Use the URL provided for the bonus item
                bonusLink.textContent = `Bonus: ${bonusItem.name}`;
                bonusLink.target = "_blank"; // Open in a new tab
                bonusListItem.appendChild(bonusLink);

                const minusButton = document.createElement('button');
                minusButton.textContent = '-';
                minusButton.style.fontSize = '12px'; // Smaller font size
                minusButton.style.padding = '2px 4px'; // Smaller padding
                minusButton.addEventListener('click', function () {
                    bonusItems.splice(i, 1);
                    updateBonusList();
                    localStorage.setItem('bonusItems', JSON.stringify(bonusItems));
                });

                bonusListItem.appendChild(minusButton);
                bonusList.appendChild(bonusListItem);
            }
        }

        async function loadList(filename) {
            try {
                const response = await fetch(filename);
                if (!response.ok) {
                    throw new Error('File not found');
                }
                const text = await response.text();
                const lines = text.split('\n').map(item => item.trim()).filter(Boolean);
                return lines.map(line => {
                    const [name, url] = line.split('|');
                    return { name, url };
                });
            } catch (error) {
                console.error('Error loading the file:', error);
                return [];
            }
        }
    </script>
</body>
</html>
